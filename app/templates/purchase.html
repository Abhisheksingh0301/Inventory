{% extends "layout.html" %}
{% block title %}Purchase Goods{% endblock %}
{% block content %}
<h1 class="text-3xl font-bold mb-4">Purchase Goods</h1>
<form method="POST" class="mb-6">
  <select name="product_id" class="border p-2 mr-2" required>
    {% for product in products %}
      <option value="{{ product.id }}">{{ product.name }}</option>
    {% endfor %}
  </select>
  <input type="number" name="quantity" placeholder="Quantity" min="1" required class="border p-2 mr-2" />
  <input type="number" step="0.01" name="purchase_price" placeholder="Purchase Price" required class="border p-2 mr-2" />
  <input type="date" name="purchase_date" required class="border p-2 mr-2" />
  <button type="submit" class="bg-green-600 text-white px-4 py-2 rounded">Add Purchase</button>
</form>

<h2 class="text-2xl font-semibold mt-8 mb-4">Purchase History</h2>
<table class="w-full border-collapse border border-gray-300">
  <thead class="bg-green-100">
    <tr>
      <th class="border px-4 py-2 text-left">ID</th>
      <th class="border px-4 py-2 text-left">Product</th>
      <th class="border px-4 py-2 text-left">Quantity</th>
      <th class="border px-4 py-2 text-left">Price</th>
      <th class="border px-4 py-2 text-left">Date</th>
    </tr>
  </thead>
  <tbody>
    {% for purchase in purchases %}
    <tr class="hover:bg-green-50">
      <td class="border px-4 py-2">{{ purchase.id }}</td>
      <td class="border px-4 py-2">{{ purchase.product_name }}</td>
      <td class="border px-4 py-2">{{ purchase.quantity }}</td>
      <td class="border px-4 py-2">â‚¹{{ "%.2f"|format(purchase.purchase_price) }}</td>
      <td class="border px-4 py-2">{{ purchase.purchase_date }}</td>
    </tr>
    {% else %}
    <tr>
      <td colspan="5" class="border px-4 py-2 text-center">No purchases yet.</td>
    </tr>
    {% endfor %}
  </tbody>
</table>

{% endblock %}
